<section class="characters-edit-view">

  <div class="row">
    <div class="col-md-10 mx-auto">
      <h2>Edit Character</h2>

      <%= form_with model: @character, url: character_url(@character), method: "patch", class: "border border-dark border-2 rounded trix-editor-custom" do |form| %>
        <div class="mb-3">
          <%= form.label :name, class: "form-label" %>
          <%= form.text_field :name, class: "form-control" %>
        </div>
        <div class="mb-3">
          <%= form.label :content, class: "form-label" %>
          <%= form.rich_text_area :content %>
        </div>
        <div class="text-end">
          <%= form.submit "Save", class: "btn btn-primary" %>
          <%= link_to "Cancel", character_path(@character), class: "btn btn-primary" %>
          <%= link_to "Delete", character_path(@character), method: "delete", :data => {:confirm => "Are you sure?"}, class: "btn btn-danger" %>
        </div>
      <% end %>

    </div>

    <%= render partial: "characters/trait_list", locals: {
      character: @character,
      view: 'edit'
    } %>

    <%= render partial: "characters/item_list", locals: {
      character: @character,
      view: 'edit'
    } %>

    <%= render partial: "characters/relationship_table", locals: {
      character: @character,
      view: 'edit'
    } %>

  </div>

  <%= render partial: "shared/app_footer", locals: {
    owner: @character.universe.owner,
    collaborators: @character.universe.collaborators
  } %>

</section>
